<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transit Map Maker</title>
    <link rel="stylesheet" href="style.css">

    <link rel="icon" type="image/png" href="/img/favicon/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/img/favicon/favicon.svg">
    <link rel="shortcut icon" href="/img/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
    <meta name="apple-mobile-web-app-title" content="Transit Map Maker">
    <link rel="manifest" href="/img/favicon/site.webmanifest">

    <meta property="og:title" content="Transit Map Maker">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://transitmap.madebybence.com/img/social.jpg">
    <meta property="og:description" content="A transit map maker for creating, editing and sharing transit maps, Made by Bence.">
    <meta property="og:site_name" content="Transit Map Maker">
</head>
<body>
    <header>
        <div class="brand">
            <h1>Transit Map Maker</h1>
            BETA<button id="btn-changelog" data-dialog="changelog"><span id="version-text">Initializing...</span></button>
        </div>

        <div class="controls">
            <button id="btn-export" data-dialog="export">
                <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M480-480ZM230-83l-50-51 106-106h-82v-72h204v204h-72v-81L230-83Zm250-13v-72h216v-456H528v-168H264v408h-72v-408q0-29.7 21.15-50.85Q234.3-864 264-864h312l192 192v504q0 29.7-21.15 50.85Q725.7-96 696-96H480Z"/></svg>
                Export</button>
            <label class="import-label">
                <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M444-240h72v-150l57 57 51-51-144-144-144 144 51 51 57-57v150ZM263.72-96Q234-96 213-117.15T192-168v-624q0-29.7 21.15-50.85Q234.3-864 264-864h312l192 192v504q0 29.7-21.16 50.85Q725.68-96 695.96-96H263.72ZM528-624v-168H264v624h432v-456H528ZM264-792v189-189 624-624Z"/></svg> 
                Import JSON
                <input type="file" class="import-json" accept="application/json" hidden>
            </label>
            <button id="share-btn">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z"/></svg> 
                Share
            </button>
        </div>
    </header>

    <main>
          <aside>
          <section>
            <label id="toggleAddStationLabel"><input type="checkbox" id="toggleAddStation">+ Add station<span>Station adding enabled: click anywhere on the map to add a station &nbsp;&nbsp;×</span></label>
            <button id="btn-addline">+ Add line</button>
          </section>

          <section class="hidden">
            <p>Start by adding a few stations to the map and connecting them with a line.</p>
            <p>You can also load up an example map to help you get started.</p>
          </section>
          
          <section>
              <details>
                  <summary>Lines</summary>
                  <ul id="line-list">
                    <li>Retrieving line data...</li>
                  </ul>
              </details>

              <details>
                  <summary>Stations</summary>
                  <ul id="station-list">
                    <li>Retrieving station data...</li>
                  </ul>
              </details>

              <details>
                  <summary>Legend</summary>
                  <ul>
                    <li><label class="toggle-label"><input type="checkbox" id="toggleShowLegend" checked> Show legend</label></li>
                  </ul>
                  <ul id="controls-legend-list">
                    <li>Retrieving legend data...</li>
                  </ul>
              </details>

              <details id="details-map">
                  <summary>Map</summary>
                  <ul>
                        <li><label class="toggle-label"><input type="checkbox" id="toggleShowGridLines" checked> Show grid</label></li>
                        <li><label class="toggle-label"><input type="checkbox" id="toggleShowCoordinates"> Show coordinates</label></li>
                        <li><label class="toggle-label"><input type="checkbox" id="toggleShowStationNames" checked> Show station names</label></li>
                    </ul>
                  <ul>
                        <li>Map width <div><button id="mapWidthMin" class="round-button">-</button> <span id="map-width"></span> <button id="mapWidthPlus" class="round-button">+</button></div></li>
                        <li>Map height <div><button id="mapHeightMin" class="round-button">-</button> <span id="map-height"></span> <button id="mapHeightPlus" class="round-button">+</button></div></li>
                  </ul>
                  <ul>
                    <li><button id="btn-clearall">
                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M672-264h192v72H600l72-72Zm-437 72L117-310q-21-21-21.5-50.5T117-412l431-431q22-22 51-22t51.27 22.27L843-650q21 21 21.5 50.5T843-548L487-192H235Zm222-72 335-335-193-193-431 431 97 97h192Zm23-216Z"/></svg>
                        Clear whole map
                    </button></li>
                  </ul>
              </details>

            <details>
              <summary>Settings</summary>
                    <ul>
                        <li><label class="toggle-label"><input type="checkbox" id="toggleSoundEffects"> UI sounds [BETA]</label></li>
                        <li><label class="toggle-label"><input type="checkbox" id="toggleWelcomePreference" checked> Welcome popup on start</label></li>
                    </ul>
            </details>
          </section>
          </aside>

          <section class="stage-wrap">
            <h2 class="visually-hidden">Transit map</h2>
              <div class="svg-wrap">
                  <svg id="map" xmlns="http://www.w3.org/2000/svg" aria-label="Transit map" viewBox="0 0 1000 1000">
                        <g id="layer-grid"></g>
                        <g id="layer-lines"></g>
                        <g id="layer-stations"></g>
                        <g id="layer-labels"></g>
                  </svg>
              </div>
          </section>

          <section id="legend">
            <h2 class="visually-hidden">Legend</h2>
            <ul id="legend-list">
                <li>Retrieving legend data...</li>
            </ul><br>
            <ul id="legend-station-list"></ul>
          </section>
    </main>

    <!-- Station popup -->
    <dialog id="dialog-station">
        <h2>Edit station</h2>
        <button aria-label="Close" id="btn-closepopup"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="m291-240-51-51 189-189-189-189 51-51 189 189 189-189 51 51-189 189 189 189-51 51-189-189-189 189Z"/></svg></button>
        <label>Name <input id="station-name-input" type="text"></label>
        <label>Style 
          <select id="station-type-input">
                <option value="1">Filled rectangle</option>
                <option value="2">Outlined rectangle</option>
                <option value="3">Filled circle</option>
                <option value="4">Outlined circle</option>
          </select>
        </label>
        <label>X <input id="station-x-input" type="number"></label>
        <label>Y <input id="station-y-input" type="number"></label>
        <br>
        <button id="btn-savestationedits"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M816-672v456q0 29.7-21.15 50.85Q773.7-144 744-144H216q-29.7 0-50.85-21.15Q144-186.3 144-216v-528q0-29.7 21.15-50.85Q186.3-816 216-816h456l144 144Zm-72 30L642-744H216v528h528v-426ZM480-252q45 0 76.5-31.5T588-360q0-45-31.5-76.5T480-468q-45 0-76.5 31.5T372-360q0 45 31.5 76.5T480-252ZM264-552h336v-144H264v144Zm-48-77v413-528 115Z"/></svg> 
        Save
        </button>
        <button id="btn-deletestation" class="danger">
        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M312-144q-29.7 0-50.85-21.15Q240-186.3 240-216v-480h-48v-72h192v-48h192v48h192v72h-48v479.57Q720-186 698.85-165T648-144H312Zm336-552H312v480h336v-480ZM384-288h72v-336h-72v336Zm120 0h72v-336h-72v336ZM312-696v480-480Z"/></svg> 
        Delete
        </button>
    </dialog>

    <!-- Line popup -->
    <dialog id="dialog-line">
        <h2>Edit line</h2><br>
        <button id="btn-closelinepopup" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="m291-240-51-51 189-189-189-189 51-51 189 189 189-189 51 51-189 189 189 189-51 51-189-189-189 189Z"/></svg></button>
        <label>Name <input id="line-name-input" type="text"></label>
        <label>Color <input id="line-color-input" type="color"></label>
        <label>Style
            <select id="line-style-input">
                <option value="solid">Solid</option>
                <option value="dash">Dash</option>
                <option value="dot">Dot</option>
            </select>
        </label>
        <label>Width
            <select id="line-width-input">
                <option value="thin">Thin</option>
                <option value="normal" selected>Normal</option>
                <option value="thick">Thick</option>
            </select>
        </label>
        <br>
        <button id="btn-savelineedits">
            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M816-672v456q0 29.7-21.15 50.85Q773.7-144 744-144H216q-29.7 0-50.85-21.15Q144-186.3 144-216v-528q0-29.7 21.15-50.85Q186.3-816 216-816h456l144 144Zm-72 30L642-744H216v528h528v-426ZM480-252q45 0 76.5-31.5T588-360q0-45-31.5-76.5T480-468q-45 0-76.5 31.5T372-360q0 45 31.5 76.5T480-252ZM264-552h336v-144H264v144Zm-48-77v413-528 115Z"/></svg> 
            Save
        </button>
        <button id="btn-deleteline" class="danger">
            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M312-144q-29.7 0-50.85-21.15Q240-186.3 240-216v-480h-48v-72h192v-48h192v48h192v72h-48v479.57Q720-186 698.85-165T648-144H312Zm336-552H312v480h336v-480ZM384-288h72v-336h-72v336Zm120 0h72v-336h-72v336ZM312-696v480-480Z"/></svg>
            Delete line
        </button>
        <br><br><br>
        <h2>Edit line stations</h2>
        <br>
        <table class="table-list">
            <tbody id="stationList"></tbody>
        </table>
        <br>
        <div class="row">
            <select id="stationSelect"></select>
            <button id="btn-addstationtoline">Add to line</button>
        </div>
    </dialog>

    <!-- Export popup -->
    <dialog id="dialog-export">
        <h2>Export transit map</h2>
        <br>
        <button data-close aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="m291-240-51-51 189-189-189-189 51-51 189 189 189-189 51 51-189 189 189 189-51 51-189-189-189 189Z"/></svg></button>
        <div>
            <img id="export-preview-img" alt="Preview of export">
            <p>IMPORTANT: exports are not yet working correctly in this version on TMM5.</p>
            <fieldset>
                <legend>Legend position</legend>
                <label><input type="radio" name="legend-position" value="tl">Top left</label>
                <label><input type="radio" name="legend-position" value="tr">Top right</label>
                <label><input type="radio" name="legend-position" value="bl">Bottom left</label>
                <label><input type="radio" name="legend-position" value="br" checked>Bottom right</label>
                <label><input type="radio" name="legend-position" value="none">Hide legend</label>
            </fieldset>
            <fieldset>
                <legend>File format</legend>
                <button id="export-png-btn"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M216-144q-29.7 0-50.85-21.5Q144-187 144-216v-528q0-29 21.15-50.5T216-816h528q29.7 0 50.85 21.5Q816-773 816-744v528q0 29-21.15 50.5T744-144H216Zm0-72h528v-528H216v528Zm48-72h432L552-480 444-336l-72-96-108 144Zm-48 72v-528 528Z"/></svg> PNG</button>
                <button id="export-svg-btn"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M600-96v-86L317-336H144v-216h152l112-132v-180h216v216H472L360-516v121l240 131v-48h216v216H600ZM480-720h72v-72h-72v72ZM216-408h72v-72h-72v72Zm456 240h72v-72h-72v72ZM516-755ZM252-444Zm455 240Z"/></svg> SVG</button>
                <button id="export-json-btn"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="m384-360 51-51-69-69 69-69-51-51-120 120 120 120Zm192 0 120-120-120-120-51 51 69 69-69 69 51 51ZM216-144q-29.7 0-50.85-21.15Q144-186.3 144-216v-528q0-29.7 21.15-50.85Q186.3-816 216-816h528q29.7 0 50.85 21.15Q816-773.7 816-744v528q0 29.7-21.15 50.85Q773.7-144 744-144H216Zm0-72h528v-528H216v528Zm0-528v528-528Z"/></svg> JSON</button>
                <button id="export-pdf-btn"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M360-456h48v-72h24q20.4 0 34.2-13.8Q480-555.6 480-576v-24q0-20.4-13.8-34.2Q452.4-648 432-648h-72v192Zm48-120v-24h24v24h-24Zm96 120h72q20.4 0 34.2-13.8Q624-483.6 624-504v-96q0-20.4-13.8-34.2Q596.4-648 576-648h-72v192Zm48-48v-96h24v96h-24Zm96 48h48v-72h48v-48h-48v-24h48v-48h-96v192ZM312-240q-29.7 0-50.85-21.15Q240-282.3 240-312v-480q0-29.7 21.15-50.85Q282.3-864 312-864h480q29.7 0 50.85 21.15Q864-821.7 864-792v480q0 29.7-21.15 50.85Q821.7-240 792-240H312Zm0-72h480v-480H312v480ZM168-96q-29.7 0-50.85-21.15Q96-138.3 96-168v-552h72v552h552v72H168Zm144-696v480-480Z"/></svg> PDF</button>
            </fieldset>
            <p>Note: JSON files contain all map data, meaning you can import it back into the editor and modify them. PNG, SVG and PDF are visual exports.
            <br><br>PDF-files will look slightly different from the preview, as they are optimized for printing.</p>
        </div>
    </dialog>

    <!-- Changelog popup -->
    <dialog id="dialog-changelog">
        <button data-close aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="m291-240-51-51 189-189-189-189 51-51 189 189 189-189 51 51-189 189 189 189-51 51-189-189-189 189Z"/></svg></button>
        <details open>
            <summary>Planned BETA patches</summary>
            <ul>
                <li>Adding station button</li>
                <li>Export viewboxes</li>
                <li>Fix small hickup in inertia</li>
                <li>Fix 0.5x movement speed</li>
            </ul>
        </details>
        <details>
            <summary>Planned features</summary>
            <ol>
                <li>Added loading cursor before all JS has loaded in</li>
                <li>More and better (UI) sounds</li>
                <li>More station shapes</li>
                <li>Ability to rotate station names</li>
                <li>Parallel line support (finally!)</li>
                <li>Re-organization of the page (display:grid) for better scalability</li>
                <li>Improve "hide legend" logic in exports</li>
                <li>Legend line style support</li>
                <li>More direct map interaction (like clicking on lines to edit them)</li>
                <li>Terrain backgrounds</li>
            </ol>
        </details>
        <details open>
            <summary>Changelog</summary>
            <ul>
                <li><details><summary>[BETA] v5 (<time datetime="2025-10-23">23-10-2025</time>)</summary><br>
                    [BETA] v5.00.4 (<time datetime="2025-10-24">24-10-2025</time>)<br>Added touch support<br>Limited map movement to within viewport<br><br>
                    [BETA] v5.00.3 (<time datetime="2025-10-24">24-10-2025</time>)<br>Improved SVG viewbox control stability<br><br>
                    [BETA] v5.00.2 (<time datetime="2025-10-24">24-10-2025</time>)<br>Cleaned up redundent code<br>Stability improvements<br><br>
                    [BETA] v5.00.1 (<time datetime="2025-10-23">23-10-2025</time>)<br>Stability improvements<br>Re-organised CSS<br><br>
                    [BETA] v5.00.0 (<time datetime="2025-10-23">23-10-2025</time>)<br>First test for SVG viewbox controls<br>
                </details></li>
                <li>v4.06.0 (<time datetime="2025-10-20">20-10-2025</time>)<br>Added welcome popup</li>
                <li>v4.05.0 (<time datetime="2025-10-19">19-10-2025</time>)<br>Made lines and stations list alphabetically everywhere<br>Removed already used stations from the "add station to line" dropdown<br>Major JS structure changes<br>Fixes mistakes in both example maps<br>Small fix for PDF exports</li>
                <li>v4.04.1 (<time datetime="2025-10-17">17-10-2025</time>)<br>Small dialog tweaks and fixes<br>Performance and CSS optimizations<br>Minor content updates and accessibility improvements</li>
                <li>v4.04.0 (<time datetime="2025-10-14">14-10-2025</time>)<br>Implemented HTML &lt;dialog&gt; tags for popups<br>Updated more icons</li>
                <li>v4.03.0 (<time datetime="2025-10-13">13-10-2025</time>)<br>Added possibility to position legend on export<br>Fixed "add to station"-not working bug<br>Improved the station icon rendering logic</li>
                <li>v4.02.2 (<time datetime="2025-10-12">12-10-2025</time>)<br>Added text to help get used started when the map is empty<br>Added "planned features" section to changelog popup<br>Minor JS structure changes</li>
                <li>v4.02.1 (<time datetime="2025-10-10">10-10-2025</time>)<br>Improved the icons, layout and hover effects<br>Sound settings will now be saved across sessions<br>Themed scrollbar and highlight colours</li>
                <li>v4.02.0 (<time datetime="2025-10-07">07-10-2025</time>)<br>Added sound effects because Noa asked for it</li>
                <li>v4.01.2 (<time datetime="2025-09-10">10-09-2025</time>)<br>Bug fix for URL sharing<br>Made station ID's shorter to save export and URL space<br>Made legends look better in exports</li>
                <li>v4.01.1 (<time datetime="2025-09-09">09-09-2025</time>)<br>Added preview to export function<br>Added SVG export<br>Added the legend to PNG and SVG exports</li>
                <li>v4.01.0 (<time datetime="2025-09-07">07-09-2025</time>)<br>Complete fundamental update to make maps vector-based<br>Completely new UI</li>
                <li><details><summary>[BETA] v4 (<time datetime="2025-09-04">04-09-2025</time>)</summary><br>
                    [BETA] v4.00.7 (<time datetime="2025-09-04">04-09-2025</time>)<br>Fixed the PNG export<br>Added zoom level percentage<br>Made fonts self-hosted<br><br>
                    [BETA] v4.00.6 (<time datetime="2025-09-02">02-09-2025</time>)<br>Changed vector export to PDF through print page<br>Limited availablity on smaller devices<br><br>
                    [BETA] v4.00.5 (<time datetime="2025-09-01">01-09-2025</time>)<br>Minor cosmetic changes<br><br>
                    [BETA] v4.00.4 (<time datetime="2025-08-24">24-08-2025</time>)<br>UI fixes<br>Made BETA the default version<br><br>
                    [BETA] v4.00.3 (<time datetime="2025-08-15">15-08-2025</time>)<br>UI fixes<br>Added SVG export<br><br>
                    [BETA] v4.00.2 (<time datetime="2025-08-14">14-08-2025</time>)<br>UI fixes<br>Re-added link share functionality<br><br>
                    [BETA] v4.00.1 (<time datetime="2025-08-14">14-08-2025</time>)<br>UI fixes<br><br>
                    [BETA] v4.00.0 (<time datetime="2025-08-13">13-08-2025</time>)<br>Complete fundamental update to make maps vector-based<br><br>
                </details></li>
                <li>v3.20.0 (<time datetime="2025-08-13">13-08-2025</time>)<br>Complete restructuring of the codebase (shouldn't be any visible changes)</li>
                <li>v3.10.1 (<time datetime="2025-07-09">09-07-2025</time>)<br>New feature: line styles and width can now be changed (backwards compatible)</li>
                <li>v3.02.2<br>Slight correction to v3.02.1</li>
                <li>v3.02.1<br>Added a toggle for showing coordinates<br>Removed "show true grid lines" function<br>Added ability to create map URL<br>Made popup backdrop darker</li>
                <li>v3.01.1<br>Added autosave on close<br>Added data validation for JSON imports<br>System now removes deleted stations from line arrays<br>Changed export format from PNG to JPG</li>
                <li>v2.25.1<br>Added ability to edit station coordinates<br>Finished Budapest metro on welcome screen<br>Added ability to hide station names</li>
                <li>v2.24.2<br>Added a change log (yay!)<br>Fixed AMS metro import on welcome screen<br>Added (a part of) Budapest metro</li>
                <li>v2.24.1<br>Added a welcome screen<br>Better hover effects</li>
            </ul>
        </details>
    </dialog>

    <!-- Welcome popup -->
    <dialog id="dialog-welcome">
        <button data-close aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="m291-240-51-51 189-189-189-189 51-51 189 189 189-189 51 51-189 189 189 189-51 51-189-189-189 189Z"/></svg></button>
        <h2>Welcome to Transit Map Maker BETA</h2>
        <p>Start by creating a new map or importing an existing one. You can <a href="../">return to TMM v4 here</a>.</p>
        <div>
            <div>
                <button id="intro-option-6" data-close>
                    <svg xmlns="http://www.w3.org/2000/svg" height="25px" viewBox="0 -960 960 960" width="25px" fill="currentColor"><path d="M816-672v456q0 29.7-21.15 50.85Q773.7-144 744-144H216q-29.7 0-50.85-21.15Q144-186.3 144-216v-528q0-29.7 21.15-50.85Q186.3-816 216-816h456l144 144Zm-72 30L642-744H216v528h528v-426ZM480-252q45 0 76.5-31.5T588-360q0-45-31.5-76.5T480-468q-45 0-76.5 31.5T372-360q0 45 31.5 76.5T480-252ZM264-552h336v-144H264v144Zm-48-77v413-528 115Z"/></svg>
                    Pick up where you left off last time
                </button>
                <button id="intro-option-5">
                    <svg xmlns="http://www.w3.org/2000/svg" height="25px" viewBox="0 -960 960 960" width="25px" fill="currentColor"><path d="M216-144q-29.7 0-50.85-21.15Q144-186.3 144-216v-528q0-29.7 21.15-50.85Q186.3-816 216-816h240v72H216v528h528v-240h72v240q0 30-21.15 51T744-144H216Zm420-384v-108H528v-72h108v-108h72v108h108v72H708v108h-72Z"/></svg>
                    Create a new map (empty canvas)
                </button>
                <button id="intro-option-4" data-close class="hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" height="25px" viewBox="0 -960 960 960" width="25px" fill="currentColor"><path d="M216-144q-29.7 0-50.85-21.15Q144-186.3 144-216v-528q0-29.7 21.15-50.85Q186.3-816 216-816h240v72H216v528h528v-240h72v240q0 30-21.15 51T744-144H216Zm420-384v-108H528v-72h108v-108h72v108h108v72H708v108h-72Z"/></svg>
                    Create a new map (empty canvas)
                </button>
                <label class="import-label">
                    <svg xmlns="http://www.w3.org/2000/svg" height="25px" viewBox="0 -960 960 960" width="25px" fill="currentColor"><path d="M444-240h72v-150l57 57 51-51-144-144-144 144 51 51 57-57v150ZM263.72-96Q234-96 213-117.15T192-168v-624q0-29.7 21.15-50.85Q234.3-864 264-864h312l192 192v504q0 29.7-21.16 50.85Q725.68-96 695.96-96H263.72ZM528-624v-168H264v624h432v-456H528ZM264-792v189-189 624-624Z"/></svg>
                    Import a JSON file
                    <input type="file" accept="application/json" hidden class="import-json">
                </label>
            </div>
            <div>
                <button id="intro-option-2" data-close>
                    <img src="img/ams.jpg" alt="">
                    The Amsterdam Metro system (2025)
                </button>
            </div>
            <div>
                <button id="intro-option-3" data-close>
                    <img src="img/bud.jpg" alt="">
                    Budapest Metro and Suburban Rail (2014)
                </button>
            </div>
        </div>
        <br>
        <label class="toggle-label"><input type="checkbox" id="toggleWelcomePopup" checked> Show welcome popup on start</label> <span><a data-dialog="changelog">View changelog</a> | <a href="https://github.com/BenceBarens/transitmap" target="_blank">View code</a> | <a href="https://bencebarens.nl/" target="_blank">Made by Bence</a></span>

    </dialog>

    <!-- Sound effects -->
    <audio id="soundHover" src="sounds/hover.mp3" preload="auto"></audio>
    <audio id="soundClick" src="sounds/click.mp3" preload="auto"></audio>

    <!-- Mobile message -->
    <div id="mobile-message">
        <h1>Transit Map Maker</h1>
        <p><button><span id="version-text2"></span></button></p>
        <p>This version of Transit Map Maker is not available on smaller devices.<br><br>Support will be coming something in the future, but in the meantime, please visit TMM on a larger device.</p>
        <p>Love, <a href="https://bencebarens.nl/">Bence</a> ✌️</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js" defer></script> <!-- For (de)compression of URL data -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js" defer></script> <!-- For image exports -->

    <script src="scripts/stationstyles.js" defer></script>
    <script src="scripts/draw.js" defer></script>
    <script src="scripts/dialogs.js" defer></script>
    <script src="scripts/main.js" defer></script>

    <script src="scripts/sound.js" defer></script>
    <script src="scripts/mapcontrol.js" defer></script>
</body>
</html>
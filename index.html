<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transit Map Maker</title>
    <link rel="stylesheet" href="style.css">

    <link rel="icon" type="image/png" href="/img/favicon/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/img/favicon/favicon.svg">
    <link rel="shortcut icon" href="/img/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
    <link rel="manifest" href="/img/favicon/site.webmanifest">
    
    <meta property="og:title" content="Transit Map Maker">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://transitmap.madebybence.com/img/social.jpg">
    <meta property="og:description" content="A transit map maker for creating and editing transit maps, Made by Bence.">
    <meta property="og:site_name" content="Transit Map Maker">
</head>
<body>

<section id="map">
  <div id="canvas-wrapper">
    <canvas id="canvas"></canvas>
  </div>

  <section id="legend">
    <h2>Legend</h2>
    <ul id="legend-list"></ul>
    <ul id="legend-station-list"></ul>
  </section>

  <div id="zoom-controls">
    <button id="zoomOut">-</button>
    <button id="zoomIn">+</button>
  </div>

</section>

<section id="controls">
  <div>
      <h1>Transit Map Maker</h1>
      <p><a href="https://bencebarens.nl/" target="_blank">Made by Bence</a></p>
  </div>

  <details>
    <summary>Lines</summary>

    <ul id="line-list"></ul>
    <ul>
      <li><button id="btn-addline">➕ Add new line</button></li>
    </ul>


    <!-- Popup voor lijn bewerken -->
    <div id="line-popup" class="popup hidden">
      <h3>Edit line</h3>
      <ul>
        <li>Name: <input type="text" id="line-name-input"></li>
        <li>Color: <input type="color" id="line-color-input"></li>
        <li><button onclick="saveLineEdits()">Save edits</button> <button onclick="deleteLine()">Delete line</button></li>
      </ul>
      <h3>Edit line stations</h3>
      <table id="stationList"></table>
      <select id="stationSelect"></select>
      <button onclick="addStationToLine()">Add</button>
      <button class="closepopup" onclick="closeLinePopup()">×</button>
    </div>


  </details>
  <details>
    <summary>Stations</summary>

    <div class="controls">
      <ul id="station-list"></ul>
    </div>

    <!-- Popup voor station bewerken -->
    <div id="station-popup" class="popup hidden">
        <h3>Edit station</h3>
        <ul>
          <li>Name: <input type="text" id="station-name-input"></li>
          <li>Type: 
          <select id="station-type-input">
            <option value="1">Filled square</option>
            <option value="2">Outlined square</option>
            <option value="3">Filled circle</option>
            <option value="4">Outlined circle</option>
          </select></li>
        <li><button onclick="saveStationEdits()">Save edits</button> <button onclick="deleteStation()">Delete station</button></li>
      </ul>
      <button class="closepopup" onclick="closePopup()">×</button>
    </div>

    <ul>
      <li>
        <label class="toggle-wrapper">
          <input type="checkbox" id="toggleAddStation">
          <span class="toggle-content">
            <span class="toggle-label">➕ Add new station</span>
            <span class="toggle-description">Click anywhere on the map to add a new station</span>
          </span>
        </label>
      </li>
    </ul>
  </details>
  <details>
    <summary>Legend</summary>
    <ul>
      <li>
        <label class="switch-wrapper">
          <span class="switch-label">Show legend</span>
          <span class="switch"><input type="checkbox" id="toggleShowLegend" checked><span class="slider"></span></span>
        </label>
      </li>
    </ul>
  </details>
  <details>
    <summary>Export & import</summary>
    <ul>
      <li><button id="export-btn">⬇️ Export as PNG</button></li>
      <li><button id="export-json-btn">⬇️ Export as JSON</button></li>
      <li>
        <label class="toggle-wrapper" for="import-json">
          <input type="file" accept=".json" onchange="importMapData(event)" id="import-json">
          <span class="toggle-content">⬆️ Import JSON file</span>
        </label>
      </li>
    </ul>
  </details>
  <details>
    <summary>Map</summary>
    <ul>
      <li>
        <label class="switch-wrapper">
          <span class="switch-label">Show grid lines</span>
          <span class="switch"><input type="checkbox" id="toggleShowGridLines" checked><span class="slider"></span></span>
        </label>
      </li>
      <li>
        <label class="switch-wrapper">
          <span class="switch-label">Show true grid lines</span>
          <span class="switch"><input type="checkbox" id="toggleShowTrueGridLines"><span class="slider"></span></span>
        </label>
      </li>
    </ul>
    <ul>
      <li><button id="mapWidthMin" onclick="widthMin()">-</button> Map width <button id="mapWidthPlus" onclick="widthPlus()">+</button></li>
      <li><button id="mapHeightMin" onclick="heightMin()">-</button> Map height <button id="mapHeightPlus" onclick="heightPlus()">+</button></li>
    </ul>
    <ul>
      <li><button onclick="clearAll()">Clear whole map</button></li>
    </ul>
  </details>
</section>
<script src="script.js"></script>
</body>
</html>